### 問題の概要
'A', 'T', 'C', 'G'からなる長さNの文字列Sが与えられる。
次のQ個のクエリに答えよ。

- S[l_i, r_i]に何回'AC'が部分文字列として現れるか。

### davidの解法
'A'が左にある'C'が何個あるかを累積和で数える。

累積和accの区間の右は、r_iとして良いが、左は以下のケースを考慮する必要がある。

- A C | ? : 1 2 | 2
- ? A | C : 1 1 | 2
- ? | A C : 1 | 1 2

一般的な累積和では、[l_i, r_i]を区間とするが、acc[l_i, r_i]には本来含まれない'AC'ペアのカウントが入ることがある(上記の真ん中のケース)。これは区間の境目でカウントが増加するものの、増加する原因となった'AC'ペアの'A'はS[l_i, r_i]の中に入ってないために起こる。

よって、この部分を考慮する必要があるが、カウントが増加しないケースを見てみると、acc[l_i - 1]とacc[l_i]は同じ値になっているので、(l_i, r_i]を累積和の区間としても問題無い。また、l_iでカウントが増加するケースでも、その増加分は区間に完全に入っていないペアが由来なので、累積和の区間から外す必要があるため、(l_i, r_i]を累積和の区間とする必要がある。

よって、acc[r_i] - acc[l_i]が答えとなる。

### 公式解法
'C'が右にある'A'が何個あるかを累積和で数える。

累積和accの区間の右は、以下のケースを考慮する必要がある。

- ? A C | ? : 5 6 6 | 6
- ? ? A | C : 5 5 6 | 6
- ? ? | A C : 5 5 | 6 6

上記の真ん中のケースではr_iでカウントが増加しているが、これは区間からはみ出た'AC'ペアに由来するものなので除外する必要がある。それ以外のケースではr_iでカウントが増加しないので、区間の右は(r_i - 1)と出来る。

区間の左に関しては、区間に完全に入りきらない'AC'ペアによるカウントの増減がl_iで起こっていないので、l_iを区間の左と出来る。

よって、acc[r_i - 1] - acc[l_i - 1]が答えとなる。

### 所感
真面目に考えると結構複雑。
